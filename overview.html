<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Moumin | Quick View</title>
  <meta name="description" content="Quick view portfolio for recruiters and hiring teams." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
  <style>
    :root {
      --text: #dcffee;
      --muted: #8eb9a6;
      --accent: #1ddf89;
      --accent-dark: #14b56e;
      --line: rgba(98, 238, 169, 0.22);
      --shadow: 0 18px 42px rgba(0, 0, 0, 0.45);
    }

    * { box-sizing: border-box; }

    .chakra-petch-light { font-family: "Chakra Petch", sans-serif; font-weight: 300; font-style: normal; }
    .chakra-petch-regular { font-family: "Chakra Petch", sans-serif; font-weight: 400; font-style: normal; }
    .chakra-petch-medium { font-family: "Chakra Petch", sans-serif; font-weight: 500; font-style: normal; }
    .chakra-petch-semibold { font-family: "Chakra Petch", sans-serif; font-weight: 600; font-style: normal; }
    .chakra-petch-bold { font-family: "Chakra Petch", sans-serif; font-weight: 700; font-style: normal; }

    @keyframes liquidFlow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes blobDriftA {
      0% { transform: translate(-10%, -8%) scale(1.0); }
      50% { transform: translate(8%, 6%) scale(1.12); }
      100% { transform: translate(-6%, 10%) scale(0.95); }
    }

    @keyframes blobDriftB {
      0% { transform: translate(9%, 7%) scale(1.06); }
      50% { transform: translate(-8%, -10%) scale(0.92); }
      100% { transform: translate(7%, -6%) scale(1.1); }
    }

    @keyframes blobDriftC {
      0% { transform: translate(0%, -8%) scale(1.04); }
      50% { transform: translate(-9%, 9%) scale(1.14); }
      100% { transform: translate(10%, -4%) scale(0.94); }
    }

    #liquid-layer {
      position: fixed;
      inset: -14%;
      z-index: -2;
      pointer-events: none;
      filter: blur(48px) saturate(125%);
    }

    .liquid-blob {
      position: absolute;
      width: min(52vw, 640px);
      height: min(52vw, 640px);
      border-radius: 50%;
      opacity: 0.48;
      mix-blend-mode: screen;
    }

    .liquid-blob:nth-child(1) {
      left: -8%;
      top: -6%;
      background: radial-gradient(circle at 35% 35%, rgba(27, 188, 118, 0.66), rgba(14, 82, 52, 0) 72%);
      animation: blobDriftA 34s ease-in-out infinite alternate;
    }

    .liquid-blob:nth-child(2) {
      right: -10%;
      top: -8%;
      background: radial-gradient(circle at 62% 32%, rgba(35, 167, 111, 0.58), rgba(12, 68, 44, 0) 74%);
      animation: blobDriftB 40s ease-in-out infinite alternate;
    }

    .liquid-blob:nth-child(3) {
      left: 24%;
      top: 2%;
      background: radial-gradient(circle at 50% 40%, rgba(14, 129, 80, 0.54), rgba(8, 52, 33, 0) 72%);
      animation: blobDriftC 36s ease-in-out infinite alternate;
    }

    .liquid-blob:nth-child(4) {
      left: -6%;
      bottom: -12%;
      background: radial-gradient(circle at 42% 58%, rgba(20, 161, 103, 0.62), rgba(10, 65, 41, 0) 73%);
      animation: blobDriftB 38s ease-in-out infinite alternate-reverse;
    }

    .liquid-blob:nth-child(5) {
      right: -8%;
      bottom: -10%;
      background: radial-gradient(circle at 58% 62%, rgba(18, 121, 77, 0.60), rgba(7, 45, 29, 0) 72%);
      animation: blobDriftA 42s ease-in-out infinite alternate-reverse;
    }

    .liquid-blob:nth-child(6) {
      left: 34%;
      bottom: -14%;
      background: radial-gradient(circle at 50% 50%, rgba(22, 147, 93, 0.56), rgba(9, 56, 36, 0) 74%);
      animation: blobDriftC 46s ease-in-out infinite alternate-reverse;
    }

    #node-net {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      pointer-events: none;
      opacity: 0.40;
      mix-blend-mode: screen;
      filter: drop-shadow(0 0 10px rgba(66, 255, 176, 0.35));
    }

    #grain-layer {
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events: none;
      opacity: 0.18;
      mix-blend-mode: soft-light;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.1' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)'/%3E%3C/svg%3E");
      background-size: 120px 120px;
    }

    @media (prefers-reduced-motion: reduce) {
      body,
      .liquid-blob { animation: none !important; }
    }

    body {
      margin: 0;
      font-family: "Roboto Mono", monospace;
      font-optical-sizing: auto;
      min-height: 100vh;
      color: var(--text);
      position: relative;
      overflow-x: hidden;
      isolation: isolate;
      background: linear-gradient(150deg, #000604 0%, #010d09 34%, #021710 64%, #010907 100%);
      background-size: 340% 340%;
      animation: liquidFlow 24s ease-in-out infinite;
      line-height: 1.55;
    }

    .container { max-width: 1120px; margin: 0 auto; padding: 36px 18px 70px; position: relative; z-index: 1; }

    nav { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; gap: 10px; flex-wrap: wrap; }
    .site-link { color: var(--text); text-decoration: none; font-weight: 700; letter-spacing: 0.01em; }
    .links { display: flex; gap: 8px; flex-wrap: wrap; }

    .btn {
      border: 1px solid var(--line);
      border-radius: 0;
      background: rgba(10, 24, 17, 0.44);
      color: var(--text);
      text-decoration: none;
      padding: 9px 12px;
      font-weight: 600;
      backdrop-filter: blur(12px) saturate(130%);
      -webkit-backdrop-filter: blur(12px) saturate(130%);
    }

    .btn:hover { border-color: #2f7358; color: var(--accent); }

    .hero {
      background: rgba(8, 20, 14, 0.48);
      border: 1px solid rgba(98, 238, 169, 0.24);
      border-radius: 0;
      padding: 28px;
      box-shadow: var(--shadow);
      margin-bottom: 22px;
      backdrop-filter: blur(14px) saturate(135%);
      -webkit-backdrop-filter: blur(14px) saturate(135%);
    }

    h1 { margin: 0; font-size: clamp(1.95rem, 4vw, 2.7rem); letter-spacing: -0.02em; }
    .subtitle { color: var(--muted); margin: 10px 0 0; max-width: 74ch; }

    .icon-row {
      margin-top: 18px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .icon-link {
      width: 42px;
      height: 42px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: var(--text);
      border: 1px solid var(--line);
      background: rgba(10, 24, 17, 0.44);
      text-decoration: none;
      backdrop-filter: blur(12px) saturate(130%);
      -webkit-backdrop-filter: blur(12px) saturate(130%);
      transition: border-color 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
    }

    .icon-link svg { width: 20px; height: 20px; fill: currentColor; }

    .icon-link:hover {
      border-color: rgba(98, 238, 169, 0.78);
      transform: translateY(-1px);
      box-shadow: 0 10px 24px rgba(20, 181, 110, 0.22);
    }

    .projects-section { margin-top: 34px; }
    .section-title {
      font-size: clamp(1.5rem, 3vw, 2rem);
      margin: 0 0 12px;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      color: #ecfff5;
    }

    .status { color: var(--muted); margin: 0 0 12px; }

    #expanded-slot { margin: 10px 0 18px; }

    .expanded-card {
      background: rgba(10, 26, 18, 0.62);
      border: 1px solid rgba(119, 238, 180, 0.52);
      border-radius: 0;
      padding: 16px;
      box-shadow: 0 18px 42px rgba(16, 181, 117, 0.20);
      backdrop-filter: blur(14px) saturate(140%);
      -webkit-backdrop-filter: blur(14px) saturate(140%);
    }

    .expanded-head {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 8px;
    }

    .collapse-btn {
      border: 1px solid rgba(119, 238, 180, 0.52);
      background: rgba(12, 31, 21, 0.45);
      color: #defeee;
      font: inherit;
      padding: 6px 10px;
      cursor: pointer;
    }

    .expanded-title { margin: 0; color: #f1fff8; }
    .expanded-pitch {
      margin: 10px 0 0;
      color: #d6efe3;
      line-height: 1.5;
    }
    .expanded-value {
      margin: 8px 0 0;
      color: #b7d8c9;
      line-height: 1.55;
    }
    .expanded-value strong { color: #effff8; font-weight: 700; }
    .tag-groups { margin-top: 8px; display: grid; gap: 8px; }
    .tag-group-label {
      margin: 0 0 4px;
      color: #ecfff5;
      font-size: 0.76rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px;
      perspective: 1100px;
    }

    .card {
      position: relative;
      background: rgba(8, 20, 14, 0.48);
      border: 1px solid rgba(98, 238, 169, 0.24);
      border-radius: 0;
      padding: 14px;
      box-shadow: var(--shadow);
      min-height: 175px;
      display: flex;
      flex-direction: column;
      backdrop-filter: blur(12px) saturate(130%);
      -webkit-backdrop-filter: blur(12px) saturate(130%);
      transition: border-color 0.2s ease, box-shadow 0.2s ease, transform 0.12s ease-out, opacity 0.2s ease;
      transform-style: preserve-3d;
      will-change: transform;
    }

    .card:hover {
      border-color: rgba(98, 238, 169, 0.65);
      box-shadow: 0 14px 34px rgba(20, 181, 110, 0.18);
    }

    .card.is-expanded-source {
      opacity: 0.42;
      filter: grayscale(0.45);
      border-color: rgba(180, 190, 184, 0.5);
    }

    .card h3 { margin: 0 0 8px; font-size: 1.05rem; color: #dbffec; }

    .tag-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin: 2px 0 0;
    }

    .tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin: 2px 0 0;
    }

    .tech-tag {
      font-size: 0.72rem;
      padding: 3px 8px;
      border: 1px solid transparent;
      background: rgba(255, 255, 255, 0.04);
      color: #dff7eb;
      text-transform: uppercase;
      letter-spacing: 0.04em;
    }

    .meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      margin-top: auto;
      font-size: 0.82rem;
      color: var(--muted);
      padding-top: 10px;
    }

    .card a { color: var(--accent); font-weight: 600; text-decoration: none; }
    .card a:hover { text-decoration: underline; color: #7dffcb; }

    .expand-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      border: 1px solid rgba(98, 238, 169, 0.52);
      background: rgba(8, 20, 14, 0.78);
      color: #defeee;
      font: inherit;
      font-size: 0.7rem;
      letter-spacing: 0.03em;
      text-transform: uppercase;
      padding: 4px 8px;
      cursor: pointer;
      opacity: 0;
      transform: translateY(3px);
      transition: opacity 0.18s ease, transform 0.18s ease;
    }

    .card:hover .expand-btn,
    .card:focus-within .expand-btn {
      opacity: 1;
      transform: translateY(0);
    }

    @media (max-width: 1100px) {
      .grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }

    @media (max-width: 700px) {
      .container { padding-top: 24px; }
      .hero { padding: 22px; }
      .grid { grid-template-columns: 1fr; }
      .expand-btn { opacity: 1; transform: none; }
    }
  </style>
</head>
<body>
  <div id="liquid-layer" aria-hidden="true">
    <div class="liquid-blob"></div>
    <div class="liquid-blob"></div>
    <div class="liquid-blob"></div>
    <div class="liquid-blob"></div>
    <div class="liquid-blob"></div>
    <div class="liquid-blob"></div>
  </div>
  <canvas id="node-net" aria-hidden="true"></canvas>
  <div id="grain-layer" aria-hidden="true"></div>
  <main class="container">
    <nav>
      <a class="site-link chakra-petch-medium" href="/">Moumin Portfolio</a>
      <div class="links">
        <a class="btn" href="/in-depth.html">In-Depth View</a>
      </div>
    </nav>

    <section class="hero">
      <h1 class="chakra-petch-bold">Moumin Gani</h1>
      <p class="subtitle">Software and data engineer with 1+ year of experience designing and implementing scalable internal tools, automation systems, and AI-driven applications. Skilled in Python/Django development, computer vision (OpenCV, Tesseract), and full-stack system design. Adept at building modular architectures that enhance productivity and streamline workflows.</p>

      <div class="icon-row">
        <a class="icon-link" href="https://github.com/mouminx" target="_blank" rel="noreferrer" aria-label="GitHub">
          <svg viewBox="0 0 16 16" aria-hidden="true"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.5-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82a7.65 7.65 0 0 1 2-.27c.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8Z"></path></svg>
        </a>
        <a class="icon-link" href="/assets/Moumin_Gani_Resume_1.9.pdf" target="_blank" rel="noreferrer" aria-label="Resume PDF">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 2h9l5 5v15a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8 1.5V8h4.5L14 3.5zM8 12h8v1.5H8V12zm0 3h8v1.5H8V15zm0 3h6v1.5H8V18z"></path></svg>
        </a>
        <a class="icon-link" href="https://linkedin.com/in/moumingani" target="_blank" rel="noreferrer" aria-label="LinkedIn">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6.94 8.5a1.56 1.56 0 1 1 0-3.12 1.56 1.56 0 0 1 0 3.12zM5.5 10h2.88v8.5H5.5V10zm4.43 0h2.76v1.16h.04c.38-.73 1.32-1.5 2.73-1.5 2.92 0 3.46 1.92 3.46 4.42v4.42h-2.88v-3.92c0-.93-.02-2.13-1.3-2.13-1.3 0-1.5 1.02-1.5 2.06v3.99H9.93V10z"></path></svg>
        </a>
      </div>
    </section>

    <section class="projects-section">
      <h2 class="section-title chakra-petch-semibold">Projects Showcase</h2>
      <p class="status" id="status">Loading projects...</p>
      <div id="expanded-slot"></div>
      <div class="grid" id="projects" aria-live="polite"></div>
    </section>
  </main>

  <script>
    function initNodeNet() {
      if (window.matchMedia("(prefers-reduced-motion: reduce)").matches) return;
      const canvas = document.getElementById("node-net");
      if (!canvas) return;

      const ctx = canvas.getContext("2d");
      let width = 0;
      let height = 0;
      let nodes = [];
      const speed = 0.22;
      const maxDist = 138;

      function buildNodes() {
        const count = Math.min(95, Math.max(28, Math.floor((width * height) / 26000)));
        nodes = Array.from({ length: count }, () => ({
          x: Math.random() * width,
          y: Math.random() * height,
          vx: (Math.random() - 0.5) * speed,
          vy: (Math.random() - 0.5) * speed,
          r: Math.random() * 1.9 + 1.1
        }));
      }

      function resize() {
        const dpr = Math.min(window.devicePixelRatio || 1, 2);
        width = window.innerWidth;
        height = window.innerHeight;
        canvas.width = Math.floor(width * dpr);
        canvas.height = Math.floor(height * dpr);
        canvas.style.width = width + "px";
        canvas.style.height = height + "px";
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
        buildNodes();
      }

      function draw() {
        ctx.clearRect(0, 0, width, height);

        for (let i = 0; i < nodes.length; i++) {
          const a = nodes[i];
          a.x += a.vx;
          a.y += a.vy;
          if (a.x < -8 || a.x > width + 8) a.vx *= -1;
          if (a.y < -8 || a.y > height + 8) a.vy *= -1;

          for (let j = i + 1; j < nodes.length; j++) {
            const b = nodes[j];
            const dx = a.x - b.x;
            const dy = a.y - b.y;
            const d = Math.hypot(dx, dy);
            if (d > maxDist) continue;
            const alpha = (1 - d / maxDist) * 0.5;
            ctx.strokeStyle = `rgba(94, 214, 159, ${alpha.toFixed(3)})`;
            ctx.lineWidth = 1;
            ctx.shadowColor = "rgba(99, 255, 181, 0.55)";
            ctx.shadowBlur = 9;
            ctx.beginPath();
            ctx.moveTo(a.x, a.y);
            ctx.lineTo(b.x, b.y);
            ctx.stroke();
          }
        }

        for (const n of nodes) {
          ctx.fillStyle = "rgba(210, 255, 236, 0.65)";
          ctx.shadowColor = "rgba(120, 255, 194, 0.8)";
          ctx.shadowBlur = 12;
          ctx.beginPath();
          ctx.arc(n.x, n.y, n.r, 0, Math.PI * 2);
          ctx.fill();
        }
        ctx.shadowBlur = 0;

        requestAnimationFrame(draw);
      }

      window.addEventListener("resize", resize, { passive: true });
      resize();
      draw();
    }

    const username = "mouminx";
    const status = document.getElementById("status");
    const projectsEl = document.getElementById("projects");
    const expandedSlot = document.getElementById("expanded-slot");

    const tagPalette = {
      javascript: { bg: "rgba(245, 223, 77, 0.22)", border: "rgba(245, 223, 77, 0.7)", text: "#fff6ad" },
      typescript: { bg: "rgba(49, 120, 198, 0.22)", border: "rgba(99, 168, 245, 0.7)", text: "#cfe8ff" },
      python: { bg: "rgba(53, 114, 165, 0.24)", border: "rgba(90, 155, 209, 0.7)", text: "#d4e9ff" },
      java: { bg: "rgba(224, 120, 70, 0.24)", border: "rgba(238, 145, 101, 0.7)", text: "#ffe2d2" },
      cpp: { bg: "rgba(0, 89, 156, 0.24)", border: "rgba(74, 152, 214, 0.7)", text: "#d4ebff" },
      csharp: { bg: "rgba(106, 52, 142, 0.24)", border: "rgba(155, 102, 193, 0.7)", text: "#f0ddff" },
      react: { bg: "rgba(97, 218, 251, 0.2)", border: "rgba(130, 224, 247, 0.7)", text: "#d8f9ff" },
      node: { bg: "rgba(104, 160, 99, 0.24)", border: "rgba(132, 200, 125, 0.7)", text: "#e2f9de" },
      html: { bg: "rgba(227, 79, 38, 0.24)", border: "rgba(240, 113, 79, 0.7)", text: "#ffe2d6" },
      css: { bg: "rgba(38, 77, 228, 0.24)", border: "rgba(98, 129, 241, 0.7)", text: "#dbe5ff" },
      default: { bg: "rgba(29, 223, 137, 0.16)", border: "rgba(98, 238, 169, 0.6)", text: "#dff7eb" }
    };

    const fmtDate = (iso) => new Date(iso).toLocaleDateString(undefined, {
      year: "numeric", month: "short", day: "numeric"
    });

    function normalizeTag(raw) {
      return raw.toLowerCase().replace(/\s+/g, "-");
    }

    function inferTags(repo) {
      const tags = new Set();
      const text = `${repo.name} ${repo.description || ""}`.toLowerCase();
      if (repo.language) tags.add(repo.language);

      const checks = [
        ["react", "React"], ["next", "Next.js"], ["node", "Node.js"], ["express", "Express"],
        ["python", "Python"], ["java", "Java"], ["c++", "C++"], ["csharp", "C#"],
        ["unity", "Unity"], ["typescript", "TypeScript"], ["javascript", "JavaScript"],
        ["html", "HTML"], ["css", "CSS"], ["sql", "SQL"], ["api", "API"], ["ai", "AI"], ["ml", "ML"]
      ];

      checks.forEach(([needle, label]) => {
        if (text.includes(needle)) tags.add(label);
      });

      return Array.from(tags).slice(0, 6);
    }

    function colorForTag(tag) {
      const t = normalizeTag(tag);
      if (t.includes("type")) return tagPalette.typescript;
      if (t.includes("java") && t !== "javascript") return tagPalette.java;
      if (t.includes("script") && !t.includes("type")) return tagPalette.javascript;
      if (t.includes("python")) return tagPalette.python;
      if (t.includes("react") || t.includes("next")) return tagPalette.react;
      if (t.includes("node") || t.includes("express")) return tagPalette.node;
      if (t.includes("c++")) return tagPalette.cpp;
      if (t.includes("c#") || t.includes("csharp") || t.includes("unity")) return tagPalette.csharp;
      if (t.includes("html")) return tagPalette.html;
      if (t.includes("css")) return tagPalette.css;
      return tagPalette.default;
    }

    const tiltEnabled = true;
    const motionOK = !window.matchMedia("(prefers-reduced-motion: reduce)").matches;

    function attachTilt(card) {
      if (!tiltEnabled || !motionOK) return;
      const maxTilt = 7;
      let frame = null;
      let targetX = 0;
      let targetY = 0;

      card.addEventListener("pointermove", (event) => {
        const rect = card.getBoundingClientRect();
        const px = (event.clientX - rect.left) / rect.width;
        const py = (event.clientY - rect.top) / rect.height;
        targetY = (px - 0.5) * maxTilt * 2;
        targetX = (0.5 - py) * maxTilt * 2;

        if (frame) return;
        frame = requestAnimationFrame(() => {
          card.style.transform = `rotateX(${targetX.toFixed(2)}deg) rotateY(${targetY.toFixed(2)}deg)`;
          frame = null;
        });
      });

      card.addEventListener("pointerleave", () => {
        if (frame) cancelAnimationFrame(frame);
        frame = null;
        card.style.transform = "rotateX(0deg) rotateY(0deg)";
      });
    }

    async function fetchAllRepos(user) {
      const all = [];
      let page = 1;
      const blockedRepoKeys = new Set([
        "gittest",
        "twiliosms",
        "gptchatbot",
        "turtlerace",
        "pythonsnake",
        "pythonpong",
        "datastructures"
      ]);
      const normalizeRepoKey = (name) => String(name || "").toLowerCase().replace(/[^a-z0-9]/g, "");

      while (true) {
        const res = await fetch(`https://api.github.com/users/${user}/repos?sort=updated&per_page=100&page=${page}`, {
          headers: { Accept: "application/vnd.github+json" }
        });
        if (!res.ok) throw new Error(`GitHub API returned ${res.status}`);

        const batch = await res.json();
        if (!Array.isArray(batch) || !batch.length) break;

        all.push(...batch);
        if (batch.length < 100) break;
        page += 1;
      }

      return all
        .filter((repo) => !repo.fork && !blockedRepoKeys.has(normalizeRepoKey(repo.name)))
        .sort((a, b) => new Date(b.pushed_at) - new Date(a.pushed_at));
    }

    let reposData = [];
    let expandedRepoId = null;

    function escapeHtml(value) {
      return String(value ?? "")
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll("\"", "&quot;")
        .replaceAll("'", "&#39;");
    }

    function tagHtmlFor(tags) {
      return tags.map((tag) => {
        const c = colorForTag(tag);
        return `<span class="tech-tag" style="background:${c.bg};border-color:${c.border};color:${c.text};">${escapeHtml(tag)}</span>`;
      }).join("");
    }

    const knownLanguageSet = new Set([
      "python", "javascript", "typescript", "java", "c#", "c++", "c", "go", "rust", "ruby",
      "php", "swift", "kotlin", "scala", "r", "sql", ".net", "html", "css", "bash", "shell"
    ]);

    const towerDefenseOverride = {
      title: "Tower Defense Systems Engine",
      languages: ["C#", ".NET"],
      technologies: ["Game Loop", "Pathfinding", "Wave System", "AI Targeting", "Balancing", "Performance"],
      pitch: "Wave-based tower defense engine with modular enemy pathing, targeting logic, and scalable combat systems tuned for real-time strategy gameplay.",
      value: "Demonstrates <strong>game systems architecture</strong>, <strong>pathing and targeting algorithms</strong>, <strong>balance and progression design</strong>, and <strong>performance-aware real-time simulation</strong>."
    };

    const tailoredOverride = {
      title: "Resume Tailor - Local AI Resume Adjuster",
      languages: ["Python", "HTML", "CSS"],
      technologies: ["FastAPI", "Ollama", "Prompt Engineering", "PDF Processing", "Pydantic", "Jinja2", "Privacy-First"],
      pitch: "Privacy-first resume tailoring app that uses local Ollama models to rewrite resumes against job descriptions with minimal, fact-grounded edits and no cloud APIs.",
      value: "Demonstrates <strong>LLM orchestration with schema-constrained outputs</strong>, <strong>end-to-end PDF extraction and regeneration</strong>, and <strong>production-ready privacy-first full-stack architecture</strong>."
    };

    const megabonkOverride = {
      title: "Megabonk RL Agent - Hybrid AI Game Playing System",
      languages: ["Python"],
      technologies: ["Reinforcement Learning (PPO)", "Stable-Baselines3", "Gymnasium", "dxcam", "Tesseract OCR", "TensorBoard", "Curriculum Learning", "Hybrid AI"],
      pitch: "Real-time RL game agent that combines PPO-based movement learning with hardcoded decision logic to handle Megabonk gameplay, menus, progression, and recovery states.",
      value: "Demonstrates <strong>production-grade RL engineering</strong>, <strong>hybrid learned + heuristic control architecture</strong>, <strong>58 FPS real-time capture and training pipelines</strong>, and <strong>robust reward shaping under noisy OCR signals</strong>."
    };

    const repoOverrides = {
      "forest-rogue-like": {
        title: "Forest Rogue-like Engine",
        languages: ["C#", ".NET"],
        technologies: ["OpenTK", "ECS", "Procedural Generation", "Isometric"],
        pitch: "Custom 2D rogue-like engine built from scratch with C#/.NET and OpenTK, using ECS for scalable gameplay systems.",
        value: "Built without Unity/Unreal, demonstrating <strong>systems programming</strong>, <strong>custom rendering pipeline design</strong>, <strong>procedural generation</strong>, and <strong>game-loop architecture</strong> skills."
      },
      "sell-keep-salvage": {
        title: "AI-Assisted ARPG Loot Evaluator",
        languages: ["Python"],
        technologies: ["FastAPI", "Tesseract OCR", "OpenCV", "Pytest", "API Design", "Decision Engine", "Full-Stack Integration"],
        pitch: "Real-time ARPG loot evaluator that captures item tooltips with OCR, normalizes affixes, and instantly recommends KEEP, SALVAGE, or SELL based on build profiles and leveling priorities.",
        value: "Demonstrates <strong>OCR + image preprocessing pipelines</strong>, <strong>real-time API and overlay integration</strong>, and <strong>tested decision logic</strong> with mocked endpoints and edge-case validation."
      },
      "tailored.io": tailoredOverride,
      "tailored-io": tailoredOverride,
      "megabonk_ml": megabonkOverride,
      "megabonk-ml": megabonkOverride,
      "tower-defense": towerDefenseOverride,
      "tower-defense-game": towerDefenseOverride,
      "towerdefense": towerDefenseOverride
    };

    function getRepoOverride(repo) {
      if (!repo?.name) return null;
      return repoOverrides[repo.name] || repoOverrides[repo.name.toLowerCase()] || null;
    }

    function isLanguageTag(tag) {
      const key = normalizeTag(tag).replaceAll("-", "");
      if (knownLanguageSet.has(normalizeTag(tag))) return true;
      return knownLanguageSet.has(key);
    }

    function groupedTagsMarkup(languages, technologies) {
      const languageTags = Array.from(new Set((languages || []).filter(Boolean)));
      const technologyTags = Array.from(new Set((technologies || []).filter(Boolean)));
      let html = `<div class="tag-groups">`;
      if (languageTags.length) {
        html += `
          <div class="tag-group">
            <p class="tag-group-label">Languages Used</p>
            <div class="tags">${tagHtmlFor(languageTags)}</div>
          </div>
        `;
      }
      if (technologyTags.length) {
        html += `
          <div class="tag-group">
            <p class="tag-group-label">Technologies</p>
            <div class="tags">${tagHtmlFor(technologyTags)}</div>
          </div>
        `;
      }
      html += `</div>`;
      return html;
    }

    function getTagGroups(repo, override) {
      if (override?.languages || override?.technologies) {
        return {
          languages: override.languages || [],
          technologies: override.technologies || []
        };
      }
      const inferred = override?.tags || inferTags(repo);
      const languages = inferred.filter(isLanguageTag);
      const technologies = inferred.filter((tag) => !isLanguageTag(tag));
      return { languages, technologies };
    }

    function oneLinePitch(repo) {
      return getRepoOverride(repo)?.pitch
        || repo.description
        || "Focused engineering project built with a modular architecture and practical delivery constraints.";
    }

    function technicalValue(repo) {
      return getRepoOverride(repo)?.value
        || "Highlights <strong>architecture ownership</strong>, <strong>end-to-end delivery</strong>, and <strong>technical execution</strong>.";
    }

    function renderExpanded(repo) {
      if (!repo) {
        expandedSlot.innerHTML = "";
        return;
      }

      const override = getRepoOverride(repo) || {};
      const title = override.title || repo.name;
      const tagGroups = getTagGroups(repo, override);
      expandedSlot.innerHTML = `
        <article class="expanded-card">
          <div class="expanded-head">
            <h3 class="expanded-title chakra-petch-bold">${escapeHtml(title)}</h3>
            <button class="collapse-btn" id="collapse-expanded" type="button">Collapse</button>
          </div>
          ${groupedTagsMarkup(tagGroups.languages, tagGroups.technologies)}
          <p class="expanded-pitch">${escapeHtml(oneLinePitch(repo))}</p>
          <p class="expanded-value">${technicalValue(repo)}</p>
        </article>
      `;

      const collapse = document.getElementById("collapse-expanded");
      collapse?.addEventListener("click", () => {
        expandedRepoId = null;
        renderAll();
      });
    }

    function renderGrid() {
      projectsEl.innerHTML = "";

      reposData.forEach((repo) => {
        const tags = inferTags(repo);
        const card = document.createElement("article");
        card.className = `card${expandedRepoId === repo.id ? " is-expanded-source" : ""}`;
        card.innerHTML = `
          <button class="expand-btn" type="button" data-id="${repo.id}">Details</button>
          <h3 class="chakra-petch-semibold">${repo.name}</h3>
          <div class="tag-row">${tagHtmlFor(tags)}</div>
          <div class="meta">
            <span>Updated ${fmtDate(repo.pushed_at)}</span>
            <a href="${repo.html_url}" target="_blank" rel="noreferrer">Open</a>
          </div>
        `;
        projectsEl.appendChild(card);
        attachTilt(card);
      });
    }

    function renderAll() {
      const expanded = reposData.find((r) => r.id === expandedRepoId) || null;
      renderExpanded(expanded);
      renderGrid();
    }

    projectsEl.addEventListener("click", (event) => {
      const btn = event.target.closest(".expand-btn");
      if (!btn) return;
      const id = Number(btn.dataset.id);
      expandedRepoId = expandedRepoId === id ? null : id;
      renderAll();
    });

    fetchAllRepos(username)
      .then((repos) => {
        reposData = repos;
        if (!reposData.length) {
          status.textContent = "No public repositories found yet.";
          return;
        }

        status.textContent = `Showing ${reposData.length} repositories.`;
        renderAll();
      })
      .catch(() => {
        status.textContent = "Could not load projects from GitHub API.";
      });

    initNodeNet();
  </script>
</body>
</html>
